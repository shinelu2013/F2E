(function(t){function e(e){for(var i,r,n=e[0],o=e[1],c=e[2],f=0,v=[];f<n.length;f++)r=n[f],l[r]&&v.push(l[r][0]),l[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,n=1;n<a.length;n++){var o=a[n];0!==l[o]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},l={1:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="./";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=o;s.push([2,0]),a()})({0:function(t,e){},2:function(t,e,a){t.exports=a("Vtdi")},CX5l:function(t,e,a){"use strict";var i=a("Er/M"),l=a.n(i);l.a},"Er/M":function(t,e,a){},Vtdi:function(t,e,a){"use strict";a.r(e);a("VRzm");var i=a("Kw5r"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"mainFrame"},[a("div",{staticClass:"header"},[t._m(0),a("div",{staticClass:"searchArea"},[a("div",{staticClass:"searchBar"},[a("i",{staticClass:"fas fa-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],attrs:{size:"30",placeholder:"Explore your own activities"},domProps:{value:t.filterText},on:{input:[function(e){e.target.composing||(t.filterText=e.target.value)},function(e){t.filterData()}]}})])])]),a("div",{staticClass:"body"},[a("div",{staticClass:"filterPanel"},[a("div",{staticClass:"filterItem"},[a("h3",[t._v("Location")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterLocation,expression:"filterLocation"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.filterLocation=e.target.multiple?a:a[0]},function(e){t.filterData()}]}},[a("option",{attrs:{value:""}}),t._l(t.areas,function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.title))])})],2)]),a("div",{staticClass:"filterItem"},[a("h3",[t._v("Categories")]),t._l(t.categories,function(e){return a("div",{key:e.value,staticClass:"categories"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterCategories,expression:"filterCategories"}],attrs:{type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(t.filterCategories)?t._i(t.filterCategories,e.value)>-1:t.filterCategories},on:{change:[function(a){var i=t.filterCategories,l=a.target,s=!!l.checked;if(Array.isArray(i)){var r=e.value,n=t._i(i,r);l.checked?n<0&&(t.filterCategories=i.concat([r])):n>-1&&(t.filterCategories=i.slice(0,n).concat(i.slice(n+1)))}else t.filterCategories=s},function(e){t.filterData()}]}}),a("label",[t._v(t._s(e.title))])])})],2)]),a("div",{staticClass:"content"},[a("div",{staticClass:"summaryArea"},[a("span",[t._v("Showing ")]),a("label",[t._v(t._s(t.displayDataSet.length))]),a("span",[t._v(" results by...")])]),a("div",{staticClass:"tagArea"},t._l(t.tags,function(e){return a("div",{key:e.value,staticClass:"tag",on:{click:function(a){t.removeTag(e)}}},[a("span",[t._v(t._s(e.title))]),a("i",{staticClass:"far fa-times-circle"})])})),a("div",{staticClass:"displayArea"},t._l(t.pageData,function(e){return a("div",{staticClass:"displayItem"},[a("div",{staticClass:"itemImage"},[a("img",{attrs:{src:e.Picture1,width:"220px",height:"220px"}})]),a("div",{staticClass:"itemContent"},[a("div",{staticClass:"name"},[t._v(t._s(e.Name))]),a("div",{staticClass:"desc"},[t._v(t._s(t._f("cutDesc")(e.Description)))]),a("div",{staticClass:"info"},[a("a",{staticClass:"map",attrs:{href:"https://www.google.com/maps/search/?api=1&query="+e.Name,target:"_blank",title:"開啟地圖"}},[a("span",{staticClass:"fas fa-map-marker-alt"},[t._v(t._s(e.Zone))])]),a("span",{staticClass:"fas fa-briefcase"},[t._v(t._s(e.Opentime))])])])])})),a("div",{staticClass:"footArea"},[a("div",{staticClass:"paginationBar"},[a("div",{attrs:{title:"跳到最前頁"},on:{click:function(e){t.gotoPage(1)}}},[a("i",{staticClass:"fas fa-angle-double-left"})]),a("div",{attrs:{title:"上一頁"},on:{click:function(e){t.displayPage>1?t.displayPage--:t.displayPage}}},[a("i",{staticClass:"fas fa-angle-left"})]),t._l(t.totalPage,function(e){return a("div",{key:e,class:{active:t.displayPage===e},on:{click:function(a){t.gotoPage(e)}}},[a("span",[t._v(t._s(e))])])}),a("div",{attrs:{title:"下一頁"},on:{click:function(e){t.displayPage<t.totalPage?t.displayPage++:t.displayPage}}},[a("i",{staticClass:"fas fa-angle-right"})]),a("div",{attrs:{title:"跳到最後頁"},on:{click:function(e){t.gotoPage(t.totalPage)}}},[a("i",{staticClass:"fas fa-angle-double-right"})])],2)])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("span",[t._v("HaveFun")])])}],r=(a("rGqo"),a("91GP"),{name:"app",components:{},data:function(){return{filterText:"",filterLocation:"",filterCategories:[],isChange:!1,areas:[{title:"新興區",value:"新興區"},{title:"前金區",value:"前金區"},{title:"苓雅區",value:"苓雅區"},{title:"前鎮區",value:"前鎮區"},{title:"楠梓區",value:"楠梓區"},{title:"鳥松區",value:"鳥松區"},{title:"鹽埕區",value:"鹽埕區"},{title:"鼓山區",value:"鼓山區"},{title:"橋頭區",value:"橋頭區"},{title:"三民區",value:"三民區"},{title:"鳳山區",value:"鳳山區"},{title:"旗津區",value:"旗津區"},{title:"小港區",value:"小港區"},{title:"林園區",value:"林園區"},{title:"美濃區",value:"美濃區"},{title:"旗山區",value:"旗山區"},{title:"左營區",value:"左營區"},{title:"大樹區",value:"大樹區"},{title:"仁武區",value:"仁武區"},{title:"大寮區",value:"大寮區"},{title:"茂林區",value:"茂林區"},{title:"六龜區",value:"六龜區"},{title:"桃源區",value:"桃源區"},{title:"阿蓮區",value:"阿蓮區"},{title:"燕巢區",value:"燕巢區"},{title:"田寮區",value:"田寮區"},{title:"大社區",value:"大社區"},{title:"岡山區",value:"岡山區"},{title:"湖內區",value:"湖內區"},{title:"路竹區",value:"路竹區"},{title:"茄萣區",value:"茄萣區"},{title:"永安區",value:"永安區"},{title:"彌陀區",value:"彌陀區"},{title:"梓官區",value:"梓官區"},{title:"那瑪夏區",value:"那瑪夏區"},{title:"甲仙區",value:"甲仙區"},{title:"杉林區",value:"杉林區"},{title:"內門區",value:"內門區"}],categories:[{value:"1",title:"文化類"},{value:"2",title:"生態類"},{value:"3",title:"古蹟類"},{value:"4",title:"廟宇類"},{value:"5",title:"藝術類"},{value:"6",title:"小吃/特產類"},{value:"7",title:"國家公園類"},{value:"8",title:"國家風景區類"},{value:"9",title:"休閒農業類"},{value:"10",title:"溫泉類"},{value:"11",title:"自然風景類"},{value:"12",title:"遊憩類"},{value:"13",title:"體育健身類"},{value:"14",title:"觀光工廠類"},{value:"15",title:"都會公園類"},{value:"16",title:"森林遊樂區類"},{value:"17",title:"林場類"},{value:"18",title:"其他"}],tags:[],fullDataSet:[],displayDataSet:[],displayPage:0,itemPerPage:5,totalPage:0}},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){console.log("init data"),this.loadData()},loadData:function(){var t=this,e="https://data.kcg.gov.tw/api/action/datastore_search?resource_id=92290ee5-6e61-456f-80c0-249eae2fcc97";this.$http.get(e).then(function(e){console.log("get response data=>",e),t.fullDataSet=e.body.result.records,t.resetFilter(),t.filterData()},function(t){console.error("Error!! ",t)})},resetFilter:function(){this.filterText="",this.filterLocation="",this.filterCategories=[],this.displayPage=0,this.totalPage=0},removeTag:function(t){switch(console.log("remove tag ",t),t.kind){case"location":this.filterLocation="";break;case"categories":this.filterCategories=this.filterCategories.filter(function(e){return e!=t.value});break;case"text":this.filterText="";break}this.filterData()},filterData:function(){var t=this;console.log("call filteredData");var e=Object.assign([],this.fullDataSet);this.tags=[],this.filterLocation&&(this.tags.push({kind:"location",title:this.filterLocation,value:this.filterLocation}),console.log("filter by filterLocation=>",this.filterLocation),e=e.filter(function(e){return e.Zone===t.filterLocation}),console.log("filterd length: ",e.length)),this.filterCategories.length>0&&(console.log("filter by filterCategories=>",this.filterCategories),this.categories.forEach(function(e){-1!=t.filterCategories.indexOf(e.value)&&t.tags.push({kind:"categories",title:e.title,value:e.value})}),e=e.filter(function(e){return-1!=t.filterCategories.indexOf(e.Class1)}),console.log("filterd length: ",e.length)),this.filterText&&(console.log("filter by filterText=>",this.filterText),this.tags.push({kind:"text",title:this.filterText,value:this.filterText}),e=e.filter(function(e){return-1!=e.Name.indexOf(t.filterText)}),console.log("filterd length: ",e.length)),console.log("filterData=>",e),this.displayDataSet=e,this.countTotalPage(e),this.isChange=!0},countTotalPage:function(t){this.totalPage=Math.ceil(t.length/this.itemPerPage),this.displayPage=1},gotoPage:function(t){this.displayPage=t}},computed:{filteredData:function(){},pageData:function(){this.isChange=!1;var t=(this.displayPage-1)*this.itemPerPage;return this.displayDataSet.slice(t,t+this.itemPerPage)}},filters:{cutDesc:function(t){var e=150;return t.length>=e?t.substring(0,e)+"...":t}}}),n=r,o=(a("CX5l"),a("KHd+")),c=Object(o["a"])(n,l,s,!1,null,"44156a50",null),u=c.exports,f=a("KN3F");i["a"].use(f["a"]),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(u)}}).$mount("#app")}});
//# sourceMappingURL=app.js.map